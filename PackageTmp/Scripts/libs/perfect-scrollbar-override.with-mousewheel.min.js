!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(W){var t,B={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0},K=(t=0,function(){var e=t;return t+=1,".perfect-scrollbar-"+e});W.fn.perfectScrollbar=function(H,j){return this.each(function(){var s=W.extend(!0,{},B),c=W(this);if("object"==typeof H?W.extend(!0,s,H):j=H,"update"===j)c.data("perfect-scrollbar-update")&&c.data("perfect-scrollbar-update")();else if("destroy"===j)c.data("perfect-scrollbar-destroy")&&c.data("perfect-scrollbar-destroy")();else{if(c.data("perfect-scrollbar"))return c.data("perfect-scrollbar");c.addClass("ps-container");var r,a,o,l,i,u,d,p,f,h,e,v=W("<div class='ps-scrollbar-x-rail'></div>").appendTo(c),b=W("<div class='ps-scrollbar-y-rail'></div>").appendTo(c),m=W("<div class='ps-scrollbar-x'></div>").appendTo(v),g=W("<div class='ps-scrollbar-y'></div>").appendTo(b),w=parseInt(v.css("bottom"),10),T=parseInt(b.css("right"),10),L=K(),y=function(e,t){e+=t,t=l-f,h=e<0?0:t<e?t:e,t=parseInt(h*(u-l)/(l-f),10);c.scrollTop(t),v.css({bottom:w-t})},S=function(e,t){e+=t,t=o-d,p=e<0?0:t<e?t:e,t=parseInt(p*(i-o)/(o-d),10);c.scrollLeft(t),b.css({right:T-t})},t=function(e){return e=s.minScrollbarLength?Math.max(e,s.minScrollbarLength):e},D=function(){v.css({left:c.scrollLeft(),bottom:w-c.scrollTop(),width:o,display:r?"inherit":"none"}),b.css({top:c.scrollTop(),right:T-c.scrollLeft(),height:l,display:a?"inherit":"none"}),m.css({left:p,width:d}),g.css({top:h,height:f})},x=function(){o=c.width(),l=c.height(),i=c.prop("scrollWidth"),u=c.prop("scrollHeight"),!s.suppressScrollX&&o+s.scrollXMarginOffset<i?(r=!0,d=t(parseInt(o*o/i,10)),p=parseInt(c.scrollLeft()*(o-d)/(i-o),10)):(r=!1,p=d=0,c.scrollLeft(0)),!s.suppressScrollY&&l+s.scrollYMarginOffset<u?(a=!0,f=t(parseInt(l*l/u,10)),h=parseInt(c.scrollTop()*(l-f)/(u-l),10)):(a=!1,h=f=0,c.scrollTop(0)),l-f<=h&&(h=l-f),o-d<=p&&(p=o-d),D()},n=function(){var t,n;m.bind("mousedown"+L,function(e){n=e.pageX,t=m.position().left,v.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),W(document).bind("mousemove"+L,function(e){v.hasClass("in-scrolling")&&(S(t,e.pageX-n),e.stopPropagation(),e.preventDefault())}),W(document).bind("mouseup"+L,function(e){v.hasClass("in-scrolling")&&v.removeClass("in-scrolling")}),t=n=null},I=function(){var t,n;g.bind("mousedown"+L,function(e){n=e.pageY,t=g.position().top,b.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),W(document).bind("mousemove"+L,function(e){b.hasClass("in-scrolling")&&(y(t,e.pageY-n),e.stopPropagation(),e.preventDefault())}),W(document).bind("mouseup"+L,function(e){b.hasClass("in-scrolling")&&b.removeClass("in-scrolling")}),t=n=null},k=function(e,t){var n=c.scrollTop();if(0===e){if(!a)return!1;if(0===n&&0<t||u-l<=n&&t<0)return!s.wheelPropagation}n=c.scrollLeft();if(0===t){if(!r)return!1;if(0===n&&e<0||i-o<=n&&0<e)return!s.wheelPropagation}return!0},X=function(){var l=!1;c.bind("mousewheel"+L,function(e,t,n,o){s.useBothWheelAxes?a&&!r?o?c.scrollTop(c.scrollTop()-o*s.wheelSpeed):c.scrollTop(c.scrollTop()+n*s.wheelSpeed):r&&!a&&(n?c.scrollLeft(c.scrollLeft()+n*s.wheelSpeed):c.scrollLeft(c.scrollLeft()-o*s.wheelSpeed)):(c.scrollTop(c.scrollTop()-o*s.wheelSpeed),c.scrollLeft(c.scrollLeft()+n*s.wheelSpeed)),x(),(l=k(n,o))&&e.preventDefault()}),c.bind("MozMousePixelScroll"+L,function(e){l&&e.preventDefault()})},Y=function(){var o=!1;c.bind("mouseenter"+L,function(e){o=!0}),c.bind("mouseleave"+L,function(e){o=!1});W(document).bind("keydown"+L,function(e){if(o&&!W(document.activeElement).is(":input,[contenteditable]")){var t=0,n=0;switch(e.which){case 37:t=-3;break;case 38:n=3;break;case 39:t=3;break;case 40:n=-3;break;case 33:n=9;break;case 32:case 34:n=-9;break;case 35:n=-l;break;case 36:n=l;break;default:return}c.scrollTop(c.scrollTop()-n*s.wheelSpeed),c.scrollLeft(c.scrollLeft()+t*s.wheelSpeed),k(t,n)&&e.preventDefault()}})},C=function(){function e(e){e.stopPropagation()}g.bind("click"+L,e),b.bind("click"+L,function(e){var t=parseInt(f/2,10),e=(e.pageY-b.offset().top-t)/(l-f);e<0?e=0:1<e&&(e=1),c.scrollTop((u-l)*e)}),m.bind("click"+L,e),v.bind("click"+L,function(e){var t=parseInt(d/2,10),e=(e.pageX-v.offset().left-t)/(o-d);e<0?e=0:1<e&&(e=1),c.scrollLeft((i-o)*e)})},M=function(){function l(e,t){c.scrollTop(c.scrollTop()-t),c.scrollLeft(c.scrollLeft()-e),x()}var s={},r=0,a={},n=null,i=!1;W(window).bind("touchstart"+L,function(e){i=!0}),W(window).bind("touchend"+L,function(e){i=!1}),c.bind("touchstart"+L,function(e){var t=e.originalEvent.targetTouches[0];s.pageX=t.pageX,s.pageY=t.pageY,r=(new Date).getTime(),null!==n&&clearInterval(n),e.stopPropagation()}),c.bind("touchmove"+L,function(e){var t,n,o;i||1!==e.originalEvent.targetTouches.length||(t=e.originalEvent.targetTouches[0],(o={}).pageX=t.pageX,o.pageY=t.pageY,t=o.pageX-s.pageX,n=o.pageY-s.pageY,l(t,n),s=o,o=(new Date).getTime(),a.x=t/(o-r),a.y=n/(o-r),r=o,e.preventDefault())}),c.bind("touchend"+L,function(e){clearInterval(n),n=setInterval(function(){Math.abs(a.x)<.01&&Math.abs(a.y)<.01?clearInterval(n):(l(30*a.x,30*a.y),a.x*=.8,a.y*=.8)},10)})},P=function(){c.bind("scroll"+L,function(e){x()})},E=function(){c.unbind(L),W(window).unbind(L),W(document).unbind(L),c.data("perfect-scrollbar",null),c.data("perfect-scrollbar-update",null),c.data("perfect-scrollbar-destroy",null),m.remove(),g.remove(),v.remove(),b.remove(),m=g=o=l=i=u=d=p=w=f=h=T=null},O=function(e){c.addClass("ie").addClass("ie"+e);function t(){W(this).addClass("hover")}function n(){W(this).removeClass("hover")}6===e&&(c.bind("mouseenter"+L,t).bind("mouseleave"+L,n),v.bind("mouseenter"+L,t).bind("mouseleave"+L,n),b.bind("mouseenter"+L,t).bind("mouseleave"+L,n),m.bind("mouseenter"+L,t).bind("mouseleave"+L,n),g.bind("mouseenter"+L,t).bind("mouseleave"+L,n),D=function(){m.css({left:p+c.scrollLeft(),bottom:w,width:d}),g.css({top:h+c.scrollTop(),right:T,height:f}),m.hide().show(),g.hide().show()})},A="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch;(e=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/))&&"msie"===e[1]&&O(parseInt(e[2],10)),x(),P(),n(),I(),C(),A&&M(),c.mousewheel&&X(),s.useKeyboard&&Y(),c.data("perfect-scrollbar",c),c.data("perfect-scrollbar-update",x),c.data("perfect-scrollbar-destroy",E)}return c})}}),function(r){var t=["DOMMouseScroll","mousewheel"];if(r.event.fixHooks)for(var e=t.length;e;)r.event.fixHooks[t[--e]]=r.event.mouseHooks;function n(e){var t=e||window.event,n=[].slice.call(arguments,1),o=0,l=0,s=0;return(e=r.event.fix(t)).type="mousewheel",t.wheelDelta&&(o=t.wheelDelta/120),s=o=t.detail?-t.detail/3:o,void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS&&(s=0,l=-1*o),void 0!==t.wheelDeltaY&&(s=t.wheelDeltaY/120),void 0!==t.wheelDeltaX&&(l=-1*t.wheelDeltaX/120),n.unshift(e,o,l,s),(r.event.dispatch||r.event.handle).apply(this,n)}r.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null}},r.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);